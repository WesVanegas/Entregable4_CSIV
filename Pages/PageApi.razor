@page "/pageapi"
@using Model;
@using Util; 
@inject UserClient client;
@inject NavigationManager NavigationManager;

<PageTitle>Tabla</PageTitle>

<br>
<a href="/">inicio</a>
<a href="/formulario">Formulario</a>
<a href="/pageapi">ListaAPI</a>
<br>
<br>

<h1>Lista de usuarios</h1>

<div class="container">
    @foreach (User user in users)
    {
        <div class="item_user">
            <h2>@user.name</h2>
            <a href="/detail/@user.id"> Ver Detalle</a>
        </div>
    }
</div>
<br>
<br>
<br>
<br>




@code{
    private User user = new User();
    private List<User> users = new List<User>();

    protected override async Task OnInitializedAsync(){
        for (int i = 1; i < 10; i++)
        {
            users.Add(await client.GetUser(i.ToString()));
        }
    }



    
}